---
layout: page
title: "데이터 사이언스 - 파이썬"
subtitle: "반복자(iterator)"
author:
    name: xwMOOC
date: "`r Sys.Date()`"
output:
  html_document: 
    toc: yes
    toc_float: true
    highlight: tango
    code_folding: show
    number_section: true
    self_contained: true
editor_options: 
  chunk_output_type: console
---

```{r setup, include=FALSE}
knitr::opts_chunk$set(echo = TRUE, message=FALSE, warning=FALSE,
                      comment="", digits = 3, tidy = FALSE, prompt = FALSE, fig.align = 'center')

library(reticulate)
use_condaenv("anaconda3")
# reticulate::repl_python()
```


# 파이썬 반복자(iterators) {#python-iterators}

## `for` 루프 반복자 - 리스트 {#python-iterators-for-loop}

파이썬에서 가장 일반적인 자료구조인 리스트(`list`)에 대한 반복자(`iterator`)로 `for` 루프를 사용해보자.
`iterable`에는 리스트(list), 문자열(string), 딕셔너리(dictionary) 등이 포함되고 `iter()`를 적용시커 반복자(`iterator`)를 생성시킨다.

```{python python-iterator-for}
languages = ["R", "파이썬", "C/C++"]

for language in languages:
  print(f"데이터 사이언스 언어: {language}")
```

## `for` 루프 반복자 - 딕셔너리 {#python-iterators-for-loop-dictionary}

딕셔너리(dictionary)는 키-값(key-value)를 갖는 자료형이다. 딕셔너리에 `.items()`를 `for`문과 결합하여 사용한다. 

```{python python-iterator-for-dictionary}
data_science = {"R": "젠틀맨, 이하카",
            "파이썬": "귀도 반 로섬",
            "C/C++": "톰슨, 리치"}
            
for language, creator in data_science.items():
    print(f"- 데이터 사이언스 언어: {language}, \n ㄴ 창시자: {creator}")
```

## `for` 루프 반복자 - `enumerate` {#python-iterators-for-loop-enumerate}

`enumerate()`를 사용하게 되면 `index`를 얻게 되어 앞서 `for`문에 리스트를 사용할 때에 비해 도움이 되는 경우가 많다. `print(list(enumerate(models)))`을 출력시켜 보면 기존 리스트(`models`)에 `index`가 붙은 튜플 리스트를 확인할 수 있다.

```{python python-iterator-for-enumerate}
models = ["회귀분석", "기계학습", "딥러닝"]

print(list(enumerate(models)))

for index, model in enumerate(models, start=1):
  print(f"- 데이터 사이언스 모형 {index}: {model}")
```


## `for` 루프 반복자 - `zip` {#python-iterators-for-loop-zip}

`zip()`을 사용하게 되면 리스트와 리스트를 결합할 때 유용하다.


```{python python-iterator-for-zip}
languages = ["R", "파이썬", "텐서플로우"]
models   = ["회귀분석", "기계학습", "딥러닝"]

for language, model in zip(languages, models):
  print(f"데이터 사이언스 언어: {language}, 모형: {model}")
```

특히 `*`을 사용하면 압축(`zip`)한 것을 `unzip`하여 풀 수 있다.

```{python python-iterator-for-zip-star}
solution = zip(languages, models)

print(*solution)
```

## 튜플 - `enumerator` {#python-data-structure-tuple-enumerator}

`for` 루프를 사용해서 전체 튜플 리스트를 뽑아내서 출력해보자.

```{python python-tuple-unpack-for}

packages = ["dplyr", "ggplot", "broom"]
features = ["데이터 조작", "시각화", "모형"]

toolchain = zip(packages, features)

for package, feature in toolchain:
    print(f"팩키지: {package}, --> {feature}")
```


`for` 루프를 사용해서 전체 튜플 리스트를 뽑아낼 때 조금 아쉬운 점은 위치 `index`에 대한 것도 함께 알았으면 좋겠다는 생각이 들 것이다. 이런 부족한 점을 충족시켜 주는 것이 `enumerate` 가 짜짠... 역할을 수행하게 된다.
`enumerate` 함수는 순서가 있는 자료형(리스트, 튜플, 문자열)을 입력받아 색인 `index`을 해당 원소값에 포함시키는 역할을 수행한다.

먼저 `enumerate()` 함수로 객체를 생성하고 `index`와 `item`을 추출하고 튜플 `item`에서 각 튜플 원소를 `package`와 `feature`로 추출시킨다. 이를 통해서 `index`, `package`, `feature`를 튜플에서 `enumerate`를 통해서 뽑아낼 수 있게 된다.

```{python python-tuple-unpack-for-enumerate}
toolchain = zip(packages, features)
for index, item in enumerate(toolchain):
    package, feature = item
    print(f"순서 {index}:, 팩키지 {package}, --> {feature}")
```


